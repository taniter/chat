(this.webpackJsonptodo_project=this.webpackJsonptodo_project||[]).push([[0],{34:function(e,t,s){},48:function(e,t,s){"use strict";s.r(t);var n=s(2),a=s(3),i=s.n(a),r=s(17),c=s.n(r),o=(s(34),s(5)),l=s(6),d=s(8),u=s(7),j=s(20),p=s(16),h=s(11),b=s.n(h),m=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onRegisterClick=function(){e.props.onRegisterClick()},e.onInputChange=function(t){var s=t.target.name,n=t.target.value;e.setState(Object(j.a)({},s,n))},e.onLoginClick=function(){e.state&&e.state.userName&&e.state.password?e.props.onLoginClick(e.state):alert("Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1eed th\xf4ng tin.")},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;b()("#password").keydown((function(t){13===t.keyCode&&e.onLoginClick()}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("div",{className:"row p-0",children:Object(n.jsx)("div",{className:"display-4 col text-center p-3 text-muted",children:"NTT CHAT"})}),Object(n.jsx)("div",{className:"row justify-content-center mt-3 p-0",children:Object(n.jsx)("div",{className:"col-12  col-xl-4 col-sm-8 col-md-6",children:Object(n.jsx)("div",{className:"card",children:Object(n.jsxs)("div",{className:"box",children:[Object(n.jsx)("h1",{children:"\u0110\u0103ng Nh\u1eadp"}),Object(n.jsx)("p",{className:"text-muted",children:" Please enter your login and password!"}),Object(n.jsx)("input",{onChange:this.onInputChange,type:"text",name:"userName",placeholder:"t\xean \u0111\u0103ng nh\u1eadp"}),Object(n.jsx)("input",{id:"password",onChange:this.onInputChange,type:"password",name:"password",placeholder:"m\u1eadt kh\u1ea9u"}),Object(n.jsx)("a",{className:"forgot text-muted",children:"Qu\xean m\u1eadt kh\u1ea9u?"}),Object(n.jsx)("hr",{}),Object(n.jsx)(p.b,{to:"/register.html",children:Object(n.jsx)("div",{onClick:this.onRegisterClick,className:"btn btn-warning mr-2",children:"\u0110\u0103ng K\xfd"})}),Object(n.jsx)("button",{onClick:this.onLoginClick,className:"btn btn-primary",children:"\u0110\u0103ng Nh\u1eadp"})]})})})})]})}}]),s}(a.Component),f=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onCanelClick=function(){e.props.onCanelClick()},e.onInputChange=function(t){var s=t.target.name,n=t.target.value;e.setState(Object(j.a)({},s,n))},e.onRegisterClick=function(){e.state&&e.state.userName&&e.state.password&&e.state.name?e.props.onRegisterClick(e.state):alert("Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1eed th\xf4ng tin!")},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("div",{className:"row p-0",children:Object(n.jsx)("div",{className:"display-3 col text-center p-3 text-muted",children:"NTT CHAT"})}),Object(n.jsx)("div",{className:"row justify-content-center mt-3 p-0",children:Object(n.jsx)("div",{className:"col-12  col-xl-4 col-sm-8 col-md-4",children:Object(n.jsx)("div",{className:"card",children:Object(n.jsxs)("form",{className:"box",children:[Object(n.jsx)("h1",{children:"\u0110\u0103ng K\xfd"}),Object(n.jsx)("p",{className:"text-muted",children:" Please enter your login and password!"}),Object(n.jsx)("input",{onChange:this.onInputChange,type:"text",name:"userName",placeholder:"t\xean \u0111\u0103ng nh\u1eadp"}),Object(n.jsx)("input",{onChange:this.onInputChange,type:"password",name:"password",placeholder:"m\u1eadt kh\u1ea9u"}),Object(n.jsx)("input",{onChange:this.onInputChange,type:"text",name:"name",placeholder:"h\u1ecd v\xe0 t\xean"}),Object(n.jsx)("hr",{}),Object(n.jsx)(p.b,{to:"/",children:Object(n.jsx)("div",{onClick:this.onCanelClick,className:"btn btn-secondary mr-2",children:"H\u1ee7y B\u1ecf"})}),Object(n.jsx)("div",{onClick:this.onRegisterClick,className:"btn btn-primary",children:"\u0110\u0103ng K\xfd"})]})})})})]})}}]),s}(a.Component),g=s(24);g.a.initializeApp({apiKey:"AIzaSyC1UkWsYp1q-woO4C0-j0Aien2P5vK6ibY",authDomain:"product-24cbb.firebaseapp.com",databaseURL:"https://product-24cbb.firebaseio.com",projectId:"product-24cbb",storageBucket:"product-24cbb.appspot.com",messagingSenderId:"495185627160",appId:"1:495185627160:web:1a54789d941822835adb6d",measurementId:"G-PJH3JJSXGE"});var x=g.a.database(),v=(a.Component,function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"d-flex justify-content-start mb-4",children:[Object(n.jsxs)("div",{className:"img_cont_msg",children:[Object(n.jsx)("img",{src:this.props.friendSelected.picture,className:"rounded-circle user_img_msg"}),Object(n.jsx)("span",{className:"msg_time",children:this.props.value.time})]}),Object(n.jsx)("div",{className:"msg_cotainer",children:this.props.value.content})]})}}]),s}(a.Component)),O=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"d-flex justify-content-end mb-4",children:[Object(n.jsx)("div",{className:"msg_cotainer_send",children:this.props.value.content}),Object(n.jsxs)("div",{className:"img_cont_msg",children:[Object(n.jsx)("img",{src:this.props.userLogin.picture,className:"rounded-circle user_img_msg"}),Object(n.jsx)("span",{className:"msg_time_send",children:this.props.value.time})]})]})}}]),s}(a.Component),N=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).renderMessage=function(){var t=e.props.userLogin;return e.props.listMessage.map((function(s,a){return s.idSend===t.userName?Object(n.jsx)(O,{value:s,userLogin:t},a):Object(n.jsx)(v,{value:s,friendSelected:e.props.friendSelected},a)}))},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){b()(".chatbox_body").scrollTop(b()(".chatbox_body")[0].scrollHeight+20)}},{key:"componentDidUpdate",value:function(){b()(".chatbox_body").scrollTop(b()(".chatbox_body")[0].scrollHeight+20)}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"chatbox_body card-body msg_card_body",children:this.renderMessage()})}}]),s}(a.Component),C=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onSendMessage=function(){e.state&&e.state.content&&(e.props.onSendMessage(e.state.content),b()("#inputMessage").val(""))},e.onInputMessageChange=function(t){var s=t.target.value;e.setState({content:s})},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;b()("#inputMessage").keydown((function(t){13===t.keyCode&&(e.onSendMessage(),b()("#inputMessage").val(""))}))}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"chatbox_footer d-flex flex-column",children:[Object(n.jsxs)("div",{className:"d-flex footer_funtion pl-2",children:[Object(n.jsx)("div",{className:"btn chatbox_item btn-outline-secondary",children:Object(n.jsx)("i",{class:"fa fa-ticket"})}),Object(n.jsx)("div",{className:"btn chatbox_item btn-outline-secondary",children:Object(n.jsx)("i",{class:"fa fa-picture-o"})}),Object(n.jsx)("div",{className:"btn chatbox_item btn-outline-secondary",children:Object(n.jsx)("i",{class:"fa fa-link"})}),Object(n.jsx)("div",{className:"btn chatbox_item btn-outline-secondary",children:Object(n.jsx)("i",{class:"fa fa-id-card-o"})}),Object(n.jsx)("div",{className:"btn chatbox_item btn-outline-secondary",children:Object(n.jsx)("i",{class:"fa fa-exclamation"})})]}),Object(n.jsxs)("div",{className:"chatbox_input d-flex",children:[Object(n.jsx)("input",{id:"inputMessage",onChange:this.onInputMessageChange,className:"col",name:"content_chat",placeholder:"Nhap tin nhan..."}),Object(n.jsx)("div",{onClick:this.onSendMessage,className:"p-3 btn btn-outline-primary",children:Object(n.jsx)("i",{class:"fa fa-paper-plane"})})]})]})}}]),s}(a.Component),y=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"chatbox_header d-flex bg-white d-flex",children:Object(n.jsxs)("div",{className:"chatbox_header_user d-flex dropright",children:[Object(n.jsx)("img",{className:"user_img",src:"https://www.gstatic.com/mobilesdk/160503_mobilesdk/logo/2x/firebase_28dp.png","data-toggle":"dropdown"}),Object(n.jsxs)("div",{class:"dropdown-menu",children:[Object(n.jsxs)("a",{class:"dropdown-item",children:[Object(n.jsx)("i",{style:{color:"red"},className:"fa fa-minus-circle"})," Ch\u1eb7n"]}),Object(n.jsxs)("a",{class:"dropdown-item",children:[Object(n.jsx)("i",{className:"fa fa-trash-o"})," X\xf3a B\u1ea1n"]})]}),Object(n.jsxs)("div",{className:"user_info",children:[Object(n.jsx)("h5",{className:"m-0",children:this.props.friendSelected.name}),Object(n.jsx)("span",{children:"Truy cap 2 gio truoc"})]})]})})}}]),s}(a.Component),k=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"chatbox p-0 col d-flex flex-column",children:[Object(n.jsx)(y,{friendSelected:this.props.friendSelected}),Object(n.jsx)(N,{userLogin:this.props.userLogin,friendSelected:this.props.friendSelected,listMessage:this.props.listMessage}),Object(n.jsx)(C,{onSendMessage:this.props.onSendMessage})]})}}]),s}(a.Component),_=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"getstart col",children:Object(n.jsx)("img",{src:"./getstart.png"})})}}]),s}(a.Component),L=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onAddFriendClick=function(){b()(".chat_item").click((function(e){b()(".chat_item").removeClass("selected"),b()(e.currentTarget).addClass("selected")})),e.props.onAddFriendClick(e.props.value)},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("div",{onClick:this.onAddFriendClick,className:"chat_item d-flex",children:[Object(n.jsx)("div",{className:"img_profile",children:Object(n.jsx)("img",{src:this.props.value.val().picture})}),Object(n.jsxs)("div",{className:"body_item col-xl-8 col-8 col-md-8",children:[Object(n.jsx)("h6",{className:"body_name",children:this.props.value.val().name}),Object(n.jsx)("div",{className:"body_content",children:this.props.lastMessage?this.props.lastMessage.content:""})]}),Object(n.jsxs)("div",{className:"time_unread col-xl-2 col-2 col-md-2",children:[Object(n.jsx)("span",{children:"6:00"}),Object(n.jsx)("div",{className:"unread"})]})]})}}]),s}(a.Component),S=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).onAddFriendClick=function(){e.props.onAddFriendClick(e.props.value)},e}return Object(l.a)(s,[{key:"render",value:function(){var e=this.props.value?this.props.value.val():null;return Object(n.jsxs)("div",{onClick:this.onAddFriendClick,className:"chat_item d-flex",children:[Object(n.jsx)("div",{className:"img_profile",children:Object(n.jsx)("img",{src:e.picture})}),Object(n.jsx)("div",{className:e.online?"online":"d-none"}),Object(n.jsx)("div",{className:e.online?"d-none":"offline"}),Object(n.jsx)("div",{className:"body_item col-xl-8 col-8 col-md-8",children:Object(n.jsx)("h6",{className:"body_name",children:e.name})}),Object(n.jsxs)("div",{className:"time_unread d-flex col-xl-2 col-2 col-md-2",children:[Object(n.jsx)("i",{onClick:this.onAddFriendClick,class:"fa fa-user-plus mr-3"}),Object(n.jsx)("i",{class:"fa fa-envelope-o"})]})]})}}]),s}(a.Component),w=s(28),M=s.n(w),F=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).showSidebar=function(){a.props.showSidebar()},a.onSearchChange=function(e){var t=e.target.value;a.setState({key:t}),a.props.onSeacrhClick(t)},a.render_SeacrhFriend=function(){if(a.props.searchFriend)return Object(n.jsx)(S,{onAddFriendClick:a.props.onAddFriendClick,value:a.props.searchFriend})},a.onLoadPicture=function(e,t){a.setState({picture:t.length?t[t.length-1]:t},(function(){a.props.UpdateImageProfile(a.state.picture)}))},a.onLogoutClick=function(){a.props.onLogoutClick()},a.renderFriendList=function(){if(a.props.friendList){var e=[];return e.splice(0),a.props.friendList.forEach((function(t,s){e.push(t)})),e.map((function(e,t){var s=[];return s.splice(0),a.props.allMessage&&a.props.allMessage.forEach((function(t){(a.props.userLogin.userName===t.val().idSend&&e.val().idFriend===t.val().idReceiver||a.props.userLogin.userName===t.val().idReceiver&&e.val().idFriend===t.val().idSend)&&s.push(t.val())})),Object(n.jsx)(L,{onAddFriendClick:a.props.onAddFriendClick,value:e,lastMessage:s.length?s[s.length-1]:""},t)}))}},a.state={key:"",friendList:[]},a}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("div",{id:"sidebar",className:"sidebar d-flex",children:[Object(n.jsxs)("div",{className:"sidebar_nav d-flex flex-column",children:[Object(n.jsxs)("div",{className:"image_profile","data-toggle":"dropdown",children:[Object(n.jsx)("img",{src:this.props.userLogin.picture?this.props.userLogin.picture:null}),Object(n.jsx)("div",{className:this.props.userLogin.online?"online":"offline"})]}),Object(n.jsxs)("div",{class:"dropdown-menu",children:[Object(n.jsxs)("a",{class:"dropdown-item",children:[Object(n.jsx)("i",{style:{color:"yellow"},className:"fa fa-user-circle-o"})," S\u1eeda Th\xf4ng Tin C\xe1 Nh\xe2n"]}),Object(n.jsxs)("a",{class:"dropdown-item",children:[Object(n.jsx)("i",{className:"fa fa-camera"}),Object(n.jsx)(M.a,{buttonText:"\u0110\u1ed5i \u1ea2nh \u0110\u1ea1i Di\u1ec7n",onChange:this.onLoadPicture})]}),Object(n.jsxs)("a",{onClick:this.onLogoutClick,class:"dropdown-item",children:[Object(n.jsx)("i",{style:{color:"red"},className:"fa fa-sign-out"})," \u0110\u0103ng Xu\xe1t"]})]}),Object(n.jsx)("div",{className:"sidebar_item mt-5 active btn btn-outline-primary message_icon",children:Object(n.jsx)("i",{class:"fa fa-comment-o"})}),Object(n.jsx)("div",{className:"sidebar_item btn btn-outline-primary message_icon",children:Object(n.jsx)("i",{class:"fa fa-address-book-o"})}),Object(n.jsx)("div",{className:"sidebar_item btn btn-outline-primary message_icon",children:Object(n.jsx)("i",{class:"fa fa-star-o"})}),Object(n.jsx)("div",{className:"sidebar_item btn btn-outline-primary message_icon",children:Object(n.jsx)("i",{class:"fa fa-cog"})})]}),Object(n.jsxs)("div",{className:"sidebar_main d-flex flex-column",children:[Object(n.jsxs)("div",{className:"sidebar_main_header",children:[Object(n.jsx)("div",{onClick:this.showSidebar,className:"show_menu p-3",children:Object(n.jsx)("i",{class:"fa fa-bars"})}),Object(n.jsxs)("h6",{children:["Xin Ch\xe0o - ",this.props.userLogin.name]}),Object(n.jsxs)("div",{class:"form-group d-flex p-3 sidebar_main_search",children:[Object(n.jsx)("input",{type:"text",class:"form-control",name:"search_friend",onChange:this.onSearchChange,placeholder:"T\xecm b\u1ea1n b\xe8..."}),Object(n.jsx)("div",{className:"btn btn-outline-secondary",children:Object(n.jsx)("i",{class:"fa fa-user-plus"})})]})]}),Object(n.jsxs)("div",{className:this.state.key.length?"d-none":"sidebar_main_body d-flex flex-column",children:[Object(n.jsxs)("div",{className:this.props.friendList?"d-none":"text-center",children:[Object(n.jsx)("div",{className:"spinner-grow text-muted"}),Object(n.jsx)("div",{className:"spinner-grow text-primary"}),Object(n.jsx)("div",{className:"spinner-grow text-success"}),Object(n.jsx)("div",{className:"spinner-grow text-info"}),Object(n.jsx)("div",{className:"spinner-grow text-warning"}),Object(n.jsx)("div",{className:"spinner-grow text-danger"}),Object(n.jsx)("div",{className:"spinner-grow text-secondary"}),Object(n.jsx)("div",{className:"spinner-grow text-dark"}),Object(n.jsx)("div",{className:"spinner-grow text-light"})]}),this.renderFriendList()]}),Object(n.jsx)("div",{className:this.props.searchFriend?"sidebar_main_body_search_friend d-flex flex-column":"d-none",children:this.render_SeacrhFriend()})]})]})}}]),s}(a.Component),R=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(o.a)(this,s);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).render_Getstart=function(){if(!e.props.friendSelected)return Object(n.jsx)(_,{})},e.render_Chatbox=function(){if(e.props.friendSelected)return Object(n.jsx)(k,{listMessage:e.props.listMessage,onSendMessage:e.props.onSendMessage,friendSelected:e.props.friendSelected,userLogin:e.props.userLogin})},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"container-fluid d-flex home-page",children:[Object(n.jsx)(F,{allMessage:this.props.allMessage,friendList:this.props.friendList,onAddFriendClick:this.props.onAddFriendClick,onLogoutClick:this.props.onLogoutClick,userLogin:this.props.userLogin,UpdateImageProfile:this.props.UpdateImageProfile,searchFriend:this.props.searchFriend,showSidebar:this.props.showSidebar,onSeacrhClick:this.props.onSeacrhClick}),this.render_Getstart(),this.render_Chatbox()]})}}]),s}(a.Component),A=function(e){Object(d.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(o.a)(this,s),(a=t.call(this,e)).render_Login_Form=function(){if(!a.state.isRegister&&!a.state.userLogin)return Object(n.jsx)(m,{onRegisterClick:function(){a.setState({isRegister:!a.state.isRegister})},onLoginClick:a.onLoginClick})},a.onLoginClick=function(e){x.ref("chat/user/"+e.userName).on("value",(function(t){a.setState({userLogin:t}),a.state.isLogin||(t.val()&&t.val().password===e.password?a.setState({userLogin:t,isLogin:!0},(function(){var e=t.val();x.ref("chat/user/"+e.userName).set({name:e.name,userName:e.userName,password:e.password,online:!0,picture:e.picture?e.picture:"",friendList:e.friendList?e.friendList:[]}),a.getFriendMessage()})):alert("Sai pass"))}))},a.render_Register_Form=function(){if(a.state.isRegister)return Object(n.jsx)(f,{onCanelClick:function(){a.setState({isRegister:!a.state.isRegister})},onRegisterClick:a.onRegisterClick})},a.onRegisterClick=function(e){x.ref("chat/user/"+e.userName).on("value",(function(t){a.state.isRegister&&(t.val()?alert("T\xean \u0111\u0103ng nh\u1eadp \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng."):x.ref("chat/user/"+e.userName).set({name:e.name,userName:e.userName,password:e.password,online:!1,picture:"",friendList:[]},(function(){alert("\u0110\u0103ng K\xfd Th\xe0nh C\xf4ng!"),a.setState({isRegister:!a.state.isRegister})})))}))},a.render_Homepage=function(){if(a.state.userLogin)return Object(n.jsx)(R,{onLogoutClick:a.onLogoutClick,showSidebar:a.showSidebar,onSeacrhClick:a.onSeacrhClick,searchFriend:a.state.searchFriend,UpdateImageProfile:a.UpdateImageProfile,userLogin:a.state.userLogin.val(),friendSelected:a.state.friendSelected,onAddFriendClick:a.onAddFriendClick,onSendMessage:a.onSendMessage,listMessage:a.state.listMessage,friendList:a.state.friendList,allMessage:a.state.allMessage})},a.UpdateImageProfile=function(e){var t=a.state.userLogin.val();x.ref("chat/user/"+t.userName).set({name:t.name,userName:t.userName,password:t.password,online:!1,picture:e,friendList:t.friendList?t.friendList:[]})},a.showSidebar=function(){"none"===b()(".sidebar_nav").css("display")?b()(".sidebar_nav").attr("style","display: unset !important"):b()(".sidebar_nav").attr("style","display: none")},a.onSeacrhClick=function(e){e.length?x.ref("chat/user/"+e).on("value",(function(t){e.length&&(t.val()?a.setState({searchFriend:t}):a.setState({searchFriend:null}))})):a.setState({searchFriend:null})},a.onLogoutClick=function(){var e=a.state.userLogin.val();x.ref("chat/user/"+e.userName).set({name:e.name,userName:e.userName,password:e.password,online:!1,picture:e.picture,friendList:e.friendList},(function(){a.setState({isLogin:!1,isRegister:!1,userLogin:null,searchFriend:null,friendSelected:null})}))},a.getMessage=function(){x.ref("chat/message/").on("value",(function(e){var t=[];if(t.splice(0),a.state.friendSelected){var s=a.state.userLogin.val().userName,n=a.state.friendSelected.userName;e.forEach((function(e){(s===e.val().idSend&&n===e.val().idReceiver||s===e.val().idReceiver&&n===e.val().idSend)&&t.push(e.val())}))}a.setState({listMessage:t,allMessage:e})}))},a.onAddFriendClick=function(e){a.setState({friendSelected:e.val(),searchFriend:null},(function(){a.getMessage()})),x.ref("chat/user/"+a.state.userLogin.val().userName+"/friendList/"+e.key).set({block:!1,name:e.val().name,online:e.val().online,idFriend:e.key,userName:e.key,picture:e.val().picture?e.val().picture:""})},a.onSendMessage=function(e){var t=new Date,s=a.state.userLogin.val().userName,n=a.state.friendSelected.userName,i=t.getDay()+"/"+t.getMonth()+"/"+t.getFullYear(),r=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();x.ref("chat/message/").push({idSend:s,idReceiver:n,content:e,date:i,time:r})},a.getFriendMessage=function(){console.log(a.state.userLogin),a.state.userLogin&&a.state.userLogin.val().friendList&&x.ref("chat/user/"+a.state.userLogin.val().userName+"/friendList/").on("value",(function(e){e.val()&&a.setState({friendList:e}),a.getMessage()}))},a.state={isLogin:!1,isRegister:!1,userLogin:null,searchFriend:null,friendSelected:null,allMessage:null,friendList:null,listMessage:[]},a}return Object(l.a)(s,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){return Object(n.jsx)(p.a,{children:Object(n.jsxs)("div",{children:[this.render_Login_Form(),this.render_Register_Form(),this.render_Homepage()]})})}}]),s}(a.Component),I=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,49)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),i(e),r(e)}))};c.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(A,{})}),document.getElementById("root")),I()}},[[48,1,2]]]);
//# sourceMappingURL=main.65fb266c.chunk.js.map